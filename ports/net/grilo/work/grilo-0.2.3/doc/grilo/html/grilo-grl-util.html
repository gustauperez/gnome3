<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>grl-util</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="Grilo Reference Manual">
<link rel="up" href="misc.html" title="Misc">
<link rel="prev" href="grilo-grl-operation.html" title="grl-operation">
<link rel="next" href="rn04.html" title="Grilo Libraries">
<meta name="generator" content="GTK-Doc V1.18.1 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="grilo-grl-operation.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="misc.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Grilo Reference Manual</th>
<td><a accesskey="n" href="rn04.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#grilo-grl-util.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#grilo-grl-util.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry">
<a name="grilo-grl-util"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="grilo-grl-util.top_of_page"></a>grl-util</span></h2>
<p>grl-util — utility functions</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="grilo-grl-util.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;grilo.h&gt;

<span class="returnvalue">GDateTime</span> *         <a class="link" href="grilo-grl-util.html#grl-date-time-from-iso8601" title="grl_date_time_from_iso8601 ()">grl_date_time_from_iso8601</a>          (<em class="parameter"><code>const <span class="type">gchar</span> *date</code></em>);
<span class="returnvalue">GList</span> *             <a class="link" href="grilo-grl-util.html#grl-list-from-va" title="grl_list_from_va ()">grl_list_from_va</a>                    (<em class="parameter"><code><span class="type">gpointer</span> p</code></em>,
                                                         <em class="parameter"><code>...</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="grilo-grl-util.html#grl-paging-translate" title="grl_paging_translate ()">grl_paging_translate</a>                (<em class="parameter"><code><span class="type">guint</span> skip</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> count</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> max_page_size</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> *page_size</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> *page_number</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> *internal_offset</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="grilo-grl-util.description"></a><h2>Description</h2>
</div>
<div class="refsect1">
<a name="grilo-grl-util.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="grl-date-time-from-iso8601"></a><h3>grl_date_time_from_iso8601 ()</h3>
<pre class="programlisting"><span class="returnvalue">GDateTime</span> *         grl_date_time_from_iso8601          (<em class="parameter"><code>const <span class="type">gchar</span> *date</code></em>);</pre>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>date</code></em> :</span></p></td>
<td>a date expressed in iso8601 format</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a newly-allocated <span class="type">GDateTime</span> set to the time corresponding to
<em class="parameter"><code>date</code></em>, or <code class="literal">NULL</code> if <em class="parameter"><code>date</code></em> could not be parsed properly.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.2.0</p>
</div>
<hr>
<div class="refsect2">
<a name="grl-list-from-va"></a><h3>grl_list_from_va ()</h3>
<pre class="programlisting"><span class="returnvalue">GList</span> *             grl_list_from_va                    (<em class="parameter"><code><span class="type">gpointer</span> p</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
<p>
Returns a <span class="type">GList</span> containing the va_list pointers. Use <em class="parameter"><code>NULL</code></em> to finalize them,
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>p</code></em> :</span></p></td>
<td>first pointer</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>va_list pointers</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GList</span>.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.1.6</p>
</div>
<hr>
<div class="refsect2">
<a name="grl-paging-translate"></a><h3>grl_paging_translate ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                grl_paging_translate                (<em class="parameter"><code><span class="type">guint</span> skip</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> count</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> max_page_size</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> *page_size</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> *page_number</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> *internal_offset</code></em>);</pre>
<p>
Grilo browsing implements a paging mechanism through <em class="parameter"><code>skip</code></em> and <em class="parameter"><code>count</code></em> values.
</p>
<p>
But there are some services (like Jamendo or Flickr) where paging is done
through a page number and page size: user request all elements in a page,
specifying in most cases what is the page size.
</p>
<p>
This function is a helper for this task, computing from <em class="parameter"><code>skip</code></em> and <em class="parameter"><code>count</code></em> what
is the optimal value of page size (limited by <em class="parameter"><code>max_page_size</code></em>), which page
should the user request, and where requested data start inside the page.
</p>
<p>
By optimal we mean that it computes those values so only one page is required
to satisfy the data, using the smallest page size. If user is limiting page
size, then more requests to services might be needed. But still page size
will be an optimal value.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>skip</code></em> :</span></p></td>
<td>number of elements to skip</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>count</code></em> :</span></p></td>
<td>number of elements to retrieve</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>max_page_size</code></em> :</span></p></td>
<td>maximum value for page size</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>page_size</code></em> :</span></p></td>
<td>optimal page size</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>page_number</code></em> :</span></p></td>
<td>page which contain the first element to retrieve (starting at 1)</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>internal_offset</code></em> :</span></p></td>
<td>in the <em class="parameter"><code>page_number</code></em>, offset where first element can be found (starting at 0)</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 0.1.6</p>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18.1</div>
</body>
</html>